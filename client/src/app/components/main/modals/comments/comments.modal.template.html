<jd-modal layout="column" class="comments">
    <jd-modal-title>comments</jd-modal-title>
    <jd-modal-body layout="column">
        <md-list
            ng-if="$ctrl.spec.comments.length">
            <md-subheader
                ng-if="$ctrl.groupedComments.false">
                Unresolved</md-subheader>
            <md-list-item 
                ng-repeat="comment in $ctrl.groupedComments.false"
                class="md-2-line md-long-text">
                <md-icon 
                    ng-if="!comment.user.image"
                    class="no-image material icons md-avatar">
                    account_circle</md-icon>
                <img 
                    ng-if="comment.user.image"
                    ng-src="{{comment.user.image}}" class="md-avatar"/>
                <div class="md-list-item-text">
                    <h3>{{ comment.user.name }}</h3>
                    <p ng-bind="comment.text"></p>
                    <md-icon 
                        class="md-secondary material-icons" 
                        ng-click="$ctrl.resolve(comment)" 
                        aria-label="resolve">
                        done
                    </md-icon>
                </div>
            </md-list-item>
            <md-subheader
                ng-if="$ctrl.groupedComments.true">Resolved</md-subheader>
            <md-list-item 
                ng-repeat="comment in $ctrl.groupedComments.true"
                class="md-2-line md-long-text">
                <md-icon 
                    ng-if="!comment.user.image"
                    class="no-image material icons md-avatar">
                    account_circle</md-icon>
                <img 
                    ng-if="comment.user.image"
                    ng-src="{{comment.user.image}}" class="md-avatar"/>
                <div class="md-list-item-text">
                    <h3>{{ comment.user.name }}</h3>
                    <p ng-bind="comment.text"></p>
                </div>
            </md-list-item>
        </md-list>
       <p ng-if="!$ctrl.spec.comments.length">
           This spec has no comments.
       </p>
    </jd-modal-body>
    <jd-modal-buttons>
        <md-input-container>
            <input 
                class="add-comment-input"
                ng-model="$ctrl.text"/>
        </md-input-container>
        <span flex></span>
        <md-button
            ng-disabled="$ctrl.disableSave()"
            aria-label="add tag group"
            ng-click="$ctrl.add()"
            class="md-raised md-accent">
            <md-icon
                class="material-icons">send</md-icon>
            comment
        </md-button>
    </jd-modal-buttons>
</jd-modal>