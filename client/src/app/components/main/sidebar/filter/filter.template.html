<form id="tag-form">
    
    <md-list
        class="md-dense">
        
        <md-list-item
            layout="column"
            layout-align="center center"
            layout-padding
            flex='90'>
            <md-input-container
                flex
                class="md-block project-select" ng-cloak>
                <label>Project</label>
                <md-select 
                    ng-if="$ctrl.formData.project"
                    ng-change="$ctrl.changeProject(project)" 
                    ng-model="$ctrl.formData.project"
                    aria-label="projects">
                    <md-option ng-repeat="project in $ctrl.projects" value={{project.id}}>
                        {{project.name}}
                    </md-option>
                </md-select>
            </md-input-container>
        </md-list-item>
        
        <md-list-item
            class="very-dense ticket">
            <tag tag="{name: 'ticketed'}"></tag>
            <md-checkbox 
                class="md-secondary"
                ng-click="$ctrl.toggleTicketed()" 
                ng-model="$ctrl.formData.ticketed"
                aria-label="ticketed">
            </md-checkbox>
        </md-list-item>  
        
        <div ng-repeat="tag_type_group in $ctrl.tag_type_groups">
            <md-subheader 
                layout-align="end center"
                class="tag-group-name tab-title truncate" 
                ng-if="tag_type_group.name"
                ng-bind="tag_type_group.name"
                md-colors="{background: 'default-primary-100'}"></md-subheader>
                
            <md-list-item 
                class="very-dense" 
                ng-repeat="tag_type in tag_type_group.tag_types" 
                style="color: {{tag_type.color}}">
                <tag tag="tag_type"></tag>
                <md-checkbox 
                    class="md-secondary"
                    ng-click="$ctrl.toggle(tag_type.id, $ctrl.selected)" 
                    ng-model="$ctrl.formData.tag_types[tag_type.id]" 
                    aria-label="select tag"
                    ng-true-value="true"
                    ng-false-value=""></md-checkbox>
            </md-list-item>
        </div>
        
    </md-list>
    
</form>
    